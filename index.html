<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sky VS</title>
  <style>
    * {margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif;}
    body {background:#fff; overflow:hidden;}
    #loadingScreen {
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:radial-gradient(circle, #000 20%, #111);
      display:flex; flex-direction:column; justify-content:center; align-items:center; color:#0ff;
      font-size:2rem; z-index:9999; animation:fadeIn 1s ease;
    }
    .loading-bar {width:60%; height:8px; background:#333; border-radius:10px; margin-top:20px; overflow:hidden;}
    .loading-fill {height:100%; width:0%; background:linear-gradient(90deg,#0ff,#00f); animation:loading 4s linear forwards;}
    @keyframes loading {100% {width:100%;}}
    @keyframes fadeIn {0%{opacity:0;}100%{opacity:1;}}
    #warningScreen,#loginScreen,#dashboard {display:none; text-align:center; padding:20px;}
    button {
      background:#0078ff; color:#fff; border:none; padding:10px 20px; border-radius:10px;
      cursor:pointer; margin-top:15px; transition:0.3s;
    }
    button:hover {background:#005ecb;}
    #dashboard {
      background:#fefefe; min-height:100vh; position:relative;
      animation:fadeIn 1s ease;
    }
    .bubble {
      position:absolute; bottom:-150px; background:rgba(0,150,255,0.2);
      border-radius:50%; animation:rise 10s infinite ease-in;
    }
    @keyframes rise {
      0% {transform:translateY(0) scale(1);}
      100% {transform:translateY(-110vh) scale(1.5); opacity:0;}
    }
    .player-card {
      background:#fff; border:1px solid #ccc; border-radius:15px; padding:15px; margin:15px auto;
      width:300px; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:0.3s;
    }
    .player-card:hover {transform:scale(1.03);}
    #profileBtn {
      position:absolute; top:15px; right:15px; background:#00b7ff; padding:8px 15px;
    }
    #profileSection {
      display:none; background:#fff; border-radius:20px; box-shadow:0 4px 20px rgba(0,0,0,0.1);
      width:320px; padding:20px; margin:auto; animation:fadeIn 0.5s ease;
    }
    input {
      width:90%; padding:10px; border:1px solid #aaa; border-radius:8px; margin:5px 0;
    }
  </style>
</head>
<body>

  <!-- LOADING SCREEN -->
  <div id="loadingScreen">
    <h1 id="loadingText">Sky VS</h1>
    <div class="loading-bar"><div class="loading-fill"></div></div>
  </div>

  <!-- WARNING SCREEN -->
  <div id="warningScreen">
    <h2>‚ö†Ô∏è HI player!</h2>
    <p>Here you can VS with pro players on FC and play together or make friends.<br><br>
    This is not official ‚Äî made for fun by players ‚ù§Ô∏è</p>
    <p style="margin-top:15px;">If you press continue, that means you read the warning.</p>
    <button id="continueBtn">Continue</button>
  </div>

  <!-- LOGIN SCREEN -->
  <div id="loginScreen">
    <h2>üîê Sign In</h2>
    <input id="loginName" placeholder="Enter your Name" required><br>
    <input type="password" id="loginPass" placeholder="Enter a Password" required><br>
    <button id="loginBtn">Login</button>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard">
    <button id="profileBtn">Profile</button>
    <div id="profileSection">
      <h3>My VS</h3>
      <input id="player-name" placeholder="Your Name">
      <input id="player-fcid" placeholder="Your FC ID">
      <input id="player-email" placeholder="Your Email">
      <button id="upload-btn">Upload</button>
      <p id="statusMsg"></p>
    </div>

    <h2 style="margin-top:60px;">Player Dashboard</h2>
    <div id="playersList"></div>
  </div>

  <script>
    const API = "https://sheetdb.io/api/v1/ftobifx3mhc84";

    // LOADING
    window.onload = () => {
      setTimeout(() => {
        document.getElementById("loadingScreen").style.display="none";
        document.getElementById("warningScreen").style.display="block";
      }, 4000);
      createBubbles();
    };

    // WARNING ‚Üí LOGIN
    document.getElementById("continueBtn").onclick = () => {
      document.getElementById("warningScreen").style.display="none";
      if(localStorage.getItem("skyUser")) showDashboard();
      else document.getElementById("loginScreen").style.display="block";
    };

    // LOGIN SYSTEM
    document.getElementById("loginBtn").onclick = () => {
      const name = document.getElementById("loginName").value.trim();
      const pass = document.getElementById("loginPass").value.trim();
      if(!name || !pass) return alert("Fill all fields!");
      localStorage.setItem("skyUser", JSON.stringify({name,pass}));
      showDashboard();
    };

    // SHOW DASHBOARD
    function showDashboard(){
      document.getElementById("loginScreen").style.display="none";
      document.getElementById("dashboard").style.display="block";
      loadPlayers();
    }

    // PROFILE SHOW/HIDE
    document.getElementById("profileBtn").onclick = ()=>{
      const p = document.getElementById("profileSection");
      p.style.display = p.style.display === "none" ? "block" : "none";
    };

    // UPLOAD PLAYER
    document.getElementById("upload-btn").addEventListener("click", async ()=>{
      const name=document.getElementById("player-name").value.trim();
      const fc=document.getElementById("player-fcid").value.trim();
      const email=document.getElementById("player-email").value.trim();
      if(!name||!fc||!email){alert("Please fill all fields!");return;}

      const res = await fetch(API,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({data:[{Name:name,FC_ID:fc,Email:email}]})
      });

      const result = await res.json();
      if(result.created===1){
        document.getElementById("statusMsg").innerText="‚úÖ Player uploaded!";
        loadPlayers();
      } else {
        document.getElementById("statusMsg").innerText="‚ùå Upload failed, check DB permission.";
      }
    });

    // LOAD PLAYERS
    async function loadPlayers(){
      const res = await fetch(API);
      const data = await res.json();
      const list = document.getElementById("playersList");
      list.innerHTML="";
      data.forEach(p=>{
        const card=document.createElement("div");
        card.className="player-card";
        card.innerHTML=`<h3>${p.Name}</h3><p>FC ID: ${p.FC_ID}</p>
        <button onclick="challenge('${p.Name}','${p.Email}','${p.FC_ID}')">VS This Player</button>`;
        list.appendChild(card);
      });
    }

    // CHALLENGE SYSTEM
    window.challenge=(name,email,fc)=>{
      const myFc=prompt(`Enter your FC ID to VS ${name}:`);
      if(myFc){
        alert(`‚úÖ You challenged ${name}!\nYou will play in 24 hours.\nYour FC ID: ${myFc}`);
        fetch(API,{
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body:JSON.stringify({data:[{Name:name,FC_ID:myFc,Email:email}]})
        });
      }
    }

    // BUBBLES BG
    function createBubbles(){
      const dash=document.getElementById("dashboard");
      for(let i=0;i<15;i++){
        const b=document.createElement("div");
        b.classList.add("bubble");
        const size=Math.random()*50+20;
        b.style.width=b.style.height=size+"px";
        b.style.left=Math.random()*100+"%";
        b.style.animationDuration=(Math.random()*8+4)+"s";
        dash.appendChild(b);
      }
    }
  </script>
</body>
</html>



